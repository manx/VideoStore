@model VideoStore.Models.Customer

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>

<div>
  <h4>Customer</h4>
  <hr />
  <dl class="dl-horizontal">
    <dt>
      @Html.DisplayNameFor(model => model.FirstName)
    </dt>

    <dd>
      @Html.DisplayFor(model => model.FirstName)
    </dd>

    <dt>
      @Html.DisplayNameFor(model => model.LastName)
    </dt>

    <dd>
      @Html.DisplayFor(model => model.LastName)
    </dd>
  </dl>
  <hr/>
  <dl>
      <dt>
        Active Rentals
      </dt>
      <dd>
        <table class="table">
          <tr>
            @*TODO: Turn into Razor code*@
            <th>Movie Id</th>
            <th>Title</th>
            <th>Rental Date</th>
            <th>Due Date</th>
          </tr>
          @foreach (var item in Model.Rentals.Where(r => !r.ReturnDate.HasValue))
          {
          <tr>
            <td>
              @Html.DisplayFor(modelItem => item.Movie.Id)
            </td>
            <td>
              @Html.DisplayFor(modelItem => item.Movie.Title)
            </td>
            <td>
              @Html.DisplayFor(modelItem => item.RentalDate)
            </td>
            <td>
              @Html.DisplayFor(modelItem => item.DueDate)
            </td>
          </tr>
          }
        </table>
      </dd>
    </dl>
</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
    @Html.ActionLink("Back to List", "Index")
</p>
